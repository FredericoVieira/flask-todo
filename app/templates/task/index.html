{% extends "task/layout.html" %}
{% block content %}
    <h1>Home</h1>

    <h2>Show Tasks by Python Object</h2>

    {% for task in allTasks %}
        <p>{{ task.taskName }} : {{ task.taskDesc }}</p>
    {% endfor %}

    <link type="text/css" rel="stylesheet" href="/static/jsgrid-1.3.1/jsgrid.min.css"/>
    <link type="text/css" rel="stylesheet" href="/static/jsgrid-1.3.1/jsgrid-theme.min.css"/>
    <script type="text/javascript" src="/static/jquery-1.12.0.js"></script>
    <script type="text/javascript" src="/static/jsgrid-1.3.1/jsgrid.min.js"></script>


    <h2>Show Tasks by JSGrid and JSON</h2>

    <div id="jsGrid"></div>

    <script type=text/javascript>
    
    $.getJSON("http://localhost:5000/all", function(data){
        var str = JSON.stringify(data.task_list, null, 2);
        window.alert(str)

        $("#jsGrid").jsGrid({
            width: "100%",
            height: "400px",
        
            filtering: true,
            editing: true,
            sorting: true,
            paging: true,
        
            data: data.task_list, 
        
            fields: [
                { name: "Task Name", type: "text", width: 25 },
                { name: "Description", type: "text", width: 50 },
            ]
        });
    })
    </script>
{% endblock %}